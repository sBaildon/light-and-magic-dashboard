<!DOCTYPE html>
<html lang="en" ng-app="lightApp" >

	<head>
		<title>Monitor</title>

		<link href="stylesheets/min/normalise.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="stylesheets/min/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="stylesheets/min/nv.d3.min.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="stylesheets/min/app.min.css" media="screen" rel="stylesheet" type="text/css" />
	</head>

	<body ng-controller="indexController">
		<div class="content">
			<div class="row">
				<div class="medium-8 info-panel columns">
					<h3>Activity</h3>
					<div class="clearfix">
						<ul class="button-group radius round right">
							<li><a href="#" class="tinyist button secondary monthly">Month</a></li>
							<li><a href="#" class="tinyist button secondary">Day</a></li>
							<li><a href="#" class="tinyist button secondary">Hour</a></li>
						</ul>
						<div id="chart">
							<svg></svg>
						</div>
					</div>
				</div>

				<div class="medium-4 info-panel columns">
					<h3>Stats</h3>
					<div class="clearfix">
						<span class="left"><strong>Polling rate</strong></span><span class="right">{{pollingRate}} <em>ms</em></span>
						<br><br>
						<span class="left"><strong>Last update</strong></span><span class="right">{{lastUpdateTime}}</span>
						<br>
						<span class="right minor-pad">{{lastUpdateVerbose}}</span>
					</div>
				</div>
			</div>

		</div>

		<script src="libs/angular.min.js"></script>
		<script src="libs/d3.v3.min.js"></script>
		<script src="libs/nv.d3.min.js"></script>
		<script src="libs/moment.js"></script>

		<script src="js/app.js"></script>

		<script>
			nv.addGraph(function() {
			  var chart = nv.models.lineChart();

			  chart.xAxis
			      .axisLabel('Time (ms)')
			      .tickFormat(d3.format(',r'));

			  chart.yAxis
			      .axisLabel('Voltage (v)')
			      .tickFormat(d3.format('.02f'));

			  d3.select('#chart svg')
			      .datum(data())
			    .transition().duration(500)
			      .call(chart);

			  nv.utils.windowResize(chart.update);

			  return chart;
			});

			data = function() {
			  var sin = [],
			      cos = [];

			  for (var i = 0; i < 100; i++) {
			    sin.push({x: i, y: Math.sin(i/10)});
			    cos.push({x: i, y: .5 * Math.cos(i/10)});
			  }

			  return [
			    {
			      values: sin,
			      key: 'Sine Wave',
			      color: '#ff7f0e'
			    },
			    {
			      values: cos,
			      key: 'Cosine Wave',
			      color: '#2ca02c'
			    }
			  ];
			}

		</script>

	</body>

</html>