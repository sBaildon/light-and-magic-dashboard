<!DOCTYPE html>
<html lang="en" ng-app="lightApp" >

	<head>
		<title>Monitor</title>

		<link href="stylesheets/min/normalise.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="stylesheets/min/foundation.min.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="stylesheets/min/nv.d3.min.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="stylesheets/min/app.min.css" media="screen" rel="stylesheet" type="text/css" />
	</head>

	<body>
		<div class="content">
			<div class="row">

				<div class="medium-8 info-panel columns" ng-controller="intensityPanelController">
					<h3>Intensity</h3>
					<div class="clearfix">
						<h4 class="left">{{sessionId}}</h4>
						<ul class="button-group radius round right">
							<li><a href="" class="tinyist button secondary" ng-click="queryIntensity('month')">Month</a></li>
							<li><a href="" class="tinyist button secondary" ng-click="queryIntensity('week')">Week</a></li>
							<li><a href="" class="tinyist button secondary" ng-click="queryIntensity('day')">Day</a></li>
							<li><a href="" class="tinyist button secondary" ng-click="queryIntensity('hour')">Hour</a></li>
						</ul>
						<div id="intensity-chart">
							<svg></svg>
						</div>
					</div>
				</div>

				<div class="medium-4 columns">
					<div class="info-panel" ng-controller="statusPanelController">
						<h3>Status</h3>
						<div class="clearfix">
							<span class="left"><strong>Polling rate</strong></span><span class="right">{{pollingRate.value}} <em>{{pollingRate.unit}}</em></span>
							<br><br>
							<span class="left"><strong>Last update</strong></span><span class="right">{{lastUpdateTime}}</span>
							<br>
							<span class="right minor-pad">{{lastUpdateVerbose}}</span>
							<br><br>
							<span class="left"><strong>Connection</strong></span><span class="right">{{isConnected}}</span>
							<br><br>
							<span class="left"><strong>WiFi</strong></span><span class="right">{{wifiSSID}}</span>
							<br><br>
							<span class="left"><strong>Next refresh</strong></span><span class="right">{{refreshTimer}}</span>
						</div>
					</div>

					<div class="interaction-panel" ng-controller="newDatasetController">
						<h3>Activity</h3>
						<div class="center">
							<input ng-disabled="isRecordingActive" ng-model="datasetInput" placeholder="{{activeRecording}}"/>
							<button ng-click="startRecording()" ng-disabled="isRecordingActive || !datasetInput.length">Start</button><button ng-click="stopRecording()" ng-disabled="!isRecordingActive">Stop</button>
						</div>
					</div>

					<div class="list-panel" ng-controller="datasetsController">
						<h3>Datasets</h3>
						<div>
							<input ng-model="search.$" placeholder="Filter"/>
							<ul>
								<li ng-repeat="dataset in datasets | filter:search:strict" ng-click="toggle(dataset)" ng-class="{'selected':dataset.selected}">{{dataset.id}}
								<br><span>Start: {{dataset.start}}<br>End: {{dataset.end}}</span></li>
							</ul>
						</div>
					</div>
				</div>
				
			</div>

			<div class="row">


		</div>

		<script src="libs/angular.min.js"></script>
		<script src="libs/d3.v3.js"></script>
		<script src="libs/nv.d3.min.js"></script>
		<script src="libs/moment.js"></script>

		<script src="js/app.js"></script>
		<script src="js/config.js"></script>
		<script src="js/refreshService.js"></script>
		<script src="js/objectPasser.js"></script>
		<script src="js/controllers/statusPanelController.js"></script>
		<script src="js/controllers/intensityPanelController.js"></script>
		<script src="js/controllers/lightsPanelController.js"></script>
		<script src="js/controllers/datasetsController.js"></script>
		<script src="js/controllers/newDatasetController.js"></script>
	</body>

</html>